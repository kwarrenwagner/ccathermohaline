# Exploring Thermohaline Interplay with PCA-Enhanced CCA
## Introduction:
This study aims to advance the methodological framework of Principal Component Analysis (PCA) by incorporating Canonical Correlation Analysis (CCA) to examine the intricate relationship between temperature and salinity within the Pacific Ocean. Employing a comprehensive dataset composed of 49,901 paired observations from the year 2020, each consisting of two 100-dimensional vectors known as profiles—representing the temperature and salinity profiles as a function of pressure—the intent is to evaluate the nature of the correlational dynamics between these two critical environmental profiles. This analysis is particularly focused on identifying spatial and temporal patterns, discerning regions and specific timeframes where temperature and salinity exhibit notably strong or weak correlations.

## Dataset context/Data Preprocessing Phase:
	In the context of this analysis, I engaged with a dataset comprising 49,901 paired observations from the Pacific Ocean for the year 2020. These profiles are delineated as functions of pressure—providing a multidimensional perspective of the ocean's condition. To enhance the dataset's usability and coherence, a crucial preprocessing step involved a longitudinal shift of the data points. This adjustment was necessary to rectify the geographical representation of the Pacific Ocean, ensuring that it did not artificially wrap around the zero meridian. Furthermore, the temporal data was standardized by converting dates into a sequential format measured as the number of days elapsed from the initial observation, thereby streamlining subsequent interpretational analysis. This preprocessing was instrumental in facilitating a more accurate and accessible exploration of the complex oceanographic interactions present within the dataset.

## Methods used in analysis:
Given the amount of data I was working with, I deemed it necessary to use Principal Component Analysis (PCA). The primary reason that I used Principal Component Analysis is so that I could create a model that accounts for most of the variance whilst removing the noise and multicollinearity in the dataset and keeping only the most important features in the dataset to fit a lower dimensional model. In PCA, I chose the Principal Components that contain the most variance from the previous model through the use of singular value decomposition, finding those with the higher singular values, thus also eigenvalues. PCA served as a pivotal pre-processing step, streamlining the subsequent computation of CCA values by obviating multicollinear influences and extraneous noise, thereby ensuring a more robust analytical framework.

Subsequently, I employed a Canonical Correlation Analysis (CCA) function tailored to distill the multivariate essence of the Pacific Ocean's temperature and salinity observations into a lower-dimensional representation, whilst retaining the core informational structure. This methodological approach enabled the identification of the most correlated linear combinations within each of the reduced-dimensional sets, effectively elucidating the latent correlational architecture. The output of this analytical process yielded updated unitary matrices for both temperature and salinity profiles, alongside a series of canonical correlation coefficients elucidating the degree of association between these matrices. By leveraging these matrices, a series of visualizations were crafted, illustrating the emergent relationship between the newly derived loading values and the variable of pressure.

To quantify the congruence between the primary canonical variate of temperature and salinity, I calculated the canonical correlations across a spectrum of principal components—namely, the first 1, 2, 5, 10, 20, and 50, using the function described above. To avoid the potential pitfall of overfitting, I established a criterion for the selection of the optimal number of principal components, contingent upon a canonical correlation threshold of at least 0.9. This approach yielded the use of the first 5 principal components, which demonstrated a robust canonical correlation, peaking at approximately 0.926, as shown in figure 1.1. Ensuing graphical representations for each of the factor loadings as a function of pressure further corroborated the model's integrity, as they did not manifest indicators typically associated with overfitting, as shown in figure 1.1, 1.2. Consequently, the choice of incorporating 5 principal components was validated and subsequently adopted for generating both the geographical maps and temporal plots within the study.

## Results:
	In utilizing global mapping derived from Canonical Correlation Analysis—utilizing 5 principal components, as shown in figure 2.1—revealed distinct patterns wherein locations with high canonical scores predominantly occupied the central latitudinal areas of the Pacific Ocean. Conversely, areas registering low canonical scores tended to aggregate towards the higher and lower latitudinal bands, consistent with the deeper thermocline present in polar regions compared to equatorial zones. Those with higher Thermocline Depth (the areas with low canonical scores being plotted against pressure) underscored the decrease in temperature with increasing depth (as shown in figure 2.2), reflecting thermodynamic principles as articulated by the ideal gas law (PV = nRT). Concurrently (shown in figure 2.3), salinity was observed to increase up to a depth of approximately 200 Dbar before decreasing thereafter up to around 700 Dbar, likely delineating a region of compensation depth where freshwater contributes equilibrium with saltier deep waters. These profiles of our observations substantiate the scientific veracity of our CCA approach, capturing the nuanced interplay of temperature and salinity within the ocean's stratified environment.

	Additionally, I extended my analysis by mapping out the days as a function of latitudes and longitudes via a scatter plot to see if there were necessarily any patterns between salinity and temperature that were a product of the time of the year in specific regions, implying potential regional weather impact.  The distribution of observations was visualized through a scatter plot correlating the days of the year with geographic coordinates, probing for discernible temporal patterns that might influence the salinity-temperature relationship. The findings indicated an even temporal spread of data points, devoid of significant seasonal clustering, as shown in figures 3.1, 3.2. This led me to believe that while the regional variations in temperature and salinity are apparent, they appear to be relatively invariant to temporal climatic shifts, suggesting that these profiles may not be predominantly impacted by short-term meteorological patterns.

## Conclusion:
This study effectively applied PCA to reduce the dimensionality of a significant dataset capturing the Pacific Ocean's temperature and salinity profiles, followed by CCA to investigate their correlational relationship. The methodological rigor in selecting principal components and careful avoidance of overfitting led to robust findings, particularly notable in the central longitudinal stretches of the ocean where high canonical scores were prevalent. The data did not display significant temporal trends, suggesting that temperature and salinity profiles in the Pacific Ocean are principally shaped by broader geophysical processes rather than transient meteorological conditions. These insights further our understanding of the ocean's complex dynamics and provide a firm foundation for future studies in the field of oceanography.
